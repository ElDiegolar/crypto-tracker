<div class="space-y-6">
    <!-- Page Header -->
    <div class="text-center mb-8">
        <h2 class="text-2xl font-bold text-gray-800 mb-2">Manage Favorites</h2>
        <p class="text-gray-600">Add or remove cryptocurrencies from your favorites list</p>
    </div>

    <!-- Search Bar -->
    <div class="mb-6">
        <app-search-bar placeholder="Search to add favorites..." [loading]="(loading$ | async) ?? false"
            (search)="onSearch($event)" (clear)="onClearSearch()">
        </app-search-bar>
    </div>

    <!-- Current Favorites Section -->
    <div class="mb-8">
        <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
            <span class="mr-2">⭐</span>
            Current Favorites
            <span class="ml-2 text-sm text-gray-500">
                ({{ (favorites$ | async)?.length || 0 }})
            </span>
        </h3>

        <div class="space-y-3">
            <app-crypto-card *ngFor="let crypto of favorites$ | async; trackBy: trackByCryptoId" [crypto]="crypto"
                [isFavorite]="true" [showToggle]="false" [showRemove]="true" (remove)="onRemoveFavorite($event)">
            </app-crypto-card>
        </div>

        <!-- No Favorites Message -->
        <div *ngIf="(favorites$ | async)?.length === 0" class="text-center py-8 bg-gray-50 rounded-lg">
            <div class="text-4xl mb-4">😞</div>
            <p class="text-gray-500 mb-2">No favorites yet!</p>
            <p class="text-gray-400 text-sm">
                Search above to find and add cryptocurrencies to your favorites list.
            </p>
        </div>
    </div>

    <!-- Search Results Section -->
    <div *ngIf="hasSearchResults" class="space-y-4">
        <h3 class="text-lg font-semibold text-gray-700 mb-4 flex items-center">
            <span class="mr-2">🔍</span>
            Search Results
        </h3>

        <div class="space-y-3">
            <app-crypto-card *ngFor="let crypto of searchResults$ | async; trackBy: trackByCryptoId" [crypto]="crypto"
                [isFavorite]="crypto.isFavorite" [showToggle]="true" (toggleFavorite)="onToggleFavorite($event)">
            </app-crypto-card>
        </div>
    </div>

    <!-- Instructions -->
    <div *ngIf="!hasSearchResults && !(loading$ | async)"
        class="text-center py-8 bg-blue-50 rounded-lg border border-blue-200">
        <div class="text-4xl mb-4">💡</div>
        <h4 class="font-semibold text-blue-800 mb-2">How to manage favorites</h4>
        <div class="text-blue-700 text-sm space-y-1">
            <p>• Use the search bar above to find cryptocurrencies</p>
            <p>• Click the star (☆) to add to favorites</p>
            <p>• Click the trash icon (🗑️) to remove from favorites</p>
            <p>• Your favorites will appear on the Home page</p>
        </div>
    </div>
</div>